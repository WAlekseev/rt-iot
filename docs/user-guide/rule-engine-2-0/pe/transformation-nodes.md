---
layout: docwithnav
title: Узлы трансформации
description: Узлы трансформации

---

* TOC
{:toc}

# Дублирование групповых узлов

![image](/images/user-guide/rule-engine-2-0/pe/nodes/transformation-duplicate-to-group.png)

Дублирует сообщение всем сущностям, принадлежащим к определенной группе.

Сущности извлекаются из группы, обнаруженной в соответствии с конфигурацией.

Группа сущностей может быть задана напрямую или может быть самой сущностью-отправителем сообщения.

Для каждой сущности из группы создается новое сообщение с сущностью в качестве отправителя и параметрами, скопированными из исходного сообщения.


Настройки:

![image](/images/user-guide/rule-engine-2-0/pe/nodes/transformation-duplicate-to-group-config.png)

- **Entity group is message originator** - если параметр установлен, то отправитель сообщения будет рассматриваться как группа сущностей, используемая для извлечения сущностей. В этом случае, если отправитель сообщения не является группой сущностей, входящее сообщение будет передано по Failure chain
- **Target entity group** - целевая группа сущностей – конкретная целевая группа сущностей, используемая для их извлечения.

Новые сообщения будут дублироваться на группы сущностей и пересылаться по Success chain, если целевая группа сущностей обнаружена успешно и содержит хотя бы одну сущность. В противном случае исходное сообщение будет передано по Failure chain. 

<br/>

# Duplicate To Related Node

![image](/images/user-guide/rule-engine-2-0/pe/nodes/transformation-duplicate-to-related.png)

Дублирует сообщение связанным сущностям, извлеченным с помощью связанного запроса.

Связанные сущности, найденные с помощью настроенного направления связи и её типа.

Для каждой найденной связанной сущности создается новое сообщение с соответствующей сущностью в качестве отправителя и параметрами, скопированными из исходного сообщения

Настройка:

![image](/images/user-guide/rule-engine-2-0/pe/nodes/transformation-duplicate-to-related-config.png)

- **Relations query** - запрос, используемый для поиска новых сущностей, начиная с отправителя входящего сообщения. В конфигурации «Relation query» администратор может выбрать требуемое направление и уровень глубины отношений. Также фильтры отношений могут быть настроены под требуемый тип отношений и сущностей.
Новые сообщения будут дублироваться найденными сущностями и пересылаться по Success chain, если хотя бы одна сущность будет найдена с помощью запроса связей. В противном случае исходное сообщение будет передано по Failure chain.


<br/>
