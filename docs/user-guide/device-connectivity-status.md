---
layout: docwithnav
title: Статус подключения устройств
description: Статус подключения устройств
redirect_from: "/docs/user-guide/rule-engine-2-0/tutorials/device-online-offline/"

---

* TOC
{:toc}

## Обзор возможностей

Служба состояний устройств платформы отвечает за мониторинг состояния подключения устройства и запуск событий при его подключении, которые могут быть обработаны в движке правил. Пользователь платформы может определить, как реагировать на эти события.

Поддерживаемые события:
 
 - **Подключение** - событие возникает, когда устройство подключается к платформе. Функционирует в случае сеансовых протоколов, таких как MQTT. Также работает для HTTP, но в этом случае событие будет возникать при каждом HTTP-запросе;;
 - **Отключение** - событие возникает, когда устройство подключается к платформе. Функционирует в случае сеансовых протоколов, таких как MQTT. Также работает для HTTP, но в этом случае событие будет возникать при каждом HTTP-запросе;
 - **Активность** - событие возникает, когда устройство отправляет данные, обновление атрибутов или rpc-команды;
 - **Бездействие** - - возникает, когда устройство было неактивно в течение определенного периода времени. Обратите внимание, что это событие может возникнуть даже без события отключения устройства. Обычно это означает, что в течение некоторого времени не было никаких событий активности;;

Служба состояний устройств отвечает за поддержку следующих  [server-side атрибутов](/docs/user-guide/attributes/#attribute-types):

 - **active** - возвращает текущее состояние устройства, true, или false;
 - **lastConnectTime** - возвращает время последнего подключения устройства к платформе, количество миллисекунд с 1 января 1970 года, 00:00:00 GMT
 - **lastDisconnectTime** - возвращает время последнего отключения устройства от платформы, количество миллисекунд с 1 января 1970 года, 00:00:00 GMT
 - **lastActivityTime** - возвращает время последней активности устройства (передача данных, обновление атрибутов или rpc-команды), количество миллисекунд с 1 января 1970 года, 00:00:00 GMT
 - **inactivityAlarmTime** - возвращает время последнего срабатывания события бездействия, количество миллисекунд с 1 января 1970 года, 00:00:00 GMT
 
## Таймаут бездействия

Служба состояний устройств использует глобальные параметры конфигурации как для таймаута бездействия. Этот параметр по умолчанию равен 10 секундам. 
